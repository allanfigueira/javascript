<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>requestAnimationFrame</title>
    <style>
        div#jogador{
            height: 50px;
            width: 50px;
            position: absolute;
            top: 0;
            left: 0;
            background-color: #0000FF;
        }
        p{
            margin-top: 60px;
        }
    </style>
</head>
<body>



    <div id="jogador">

    </div>
    
        <p>
            <input type="button" value="iniciar"    id="iniciar" onclick="inicia()">
            <input type="button" value="parar" onclick="parar()">
        </p>
    

    <script>
        var jog
        var vel
        var dx
        var dy
        var px
        var py
        var anima
        
        
        function inicia(){
            vel=3
            dx=1
            dy=0
            px=0
            py=0
            jog = document.getElementById("jogador")    
            jog.addEventListener("click",function(){cancelAnimationFrame(anima)})
            game()
                
        }
        

        function game(){
            px+= dx*vel
            py+= dy*vel
            jog.style.left=px+"px"
           // jog.style.top=py+"px"
           if (px > 800){
            dx=-1
           }
           else if(px < 0){
            dx = 1
           }
           anima= requestAnimationFrame(game)
        }
        
    </script>
    
</body>
</html>